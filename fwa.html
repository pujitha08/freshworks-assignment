<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="C:\Users\Pujitha\Desktop\weatherforeccast\freshworks\style3.css">
  <title>Country Page</title>
</head>

<body>
  <div class="background">
  <div class="row container">
    <div class="input-field col s6">
      <div class="center">
      <p>  Find Your Country Details</p>
      <input placeholder="Enter here" id="search" type="text" class="validate"  onChange="onChangeCounntryDetails();"/>
    </div>
  </div>
</div>
  <div id="countryList"></div>
  <script>

function onChangeCounntryDetails()
{

	var searchValue = document.getElementById("search").value;
	var html='';
	var request = new XMLHttpRequest();
	request.open('GET', 'https://restcountries.eu/rest/v2/name/'+searchValue, true);
request.onload = function() {

  var data = JSON.parse(this.response)

  //const countries = await (this.response).json();







  if (request.status >= 200 && request.status < 400) {
    for(var i=0;data.length>i;i++){

	html = html+'<img id="image" src="'+data[i].flag+'" style="width:104px;height:142px;"></br>';


	}

	console.log(html);
	document.getElementById('countryList').innerHTML = html;
  } else {
    console.log('error')
  }
  document.getElementById("image").onclick=function(){
    window.open("https://restcountries.eu/rest/v2/name/");
  }
};

request.send();


}

  </script>
</body>

</html>
